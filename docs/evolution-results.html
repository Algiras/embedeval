<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EmbedEval - HuggingFace Dataset Evolution</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    :root { --primary: #6366f1; --secondary: #8b5cf6; --success: #22c55e; --bg: #0f172a; --bg-card: #1e293b; --text: #e2e8f0; --text-muted: #94a3b8; --border: #334155; }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body { font-family: -apple-system, sans-serif; background: var(--bg); color: var(--text); line-height: 1.6; padding: 2rem; }
    .container { max-width: 1400px; margin: 0 auto; }
    header { text-align: center; margin-bottom: 2rem; }
    header nav { margin-bottom: 1rem; display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; }
    header nav a { color: var(--text-muted); text-decoration: none; font-size: 0.9rem; }
    h1 { font-size: 2.5rem; background: linear-gradient(135deg, var(--primary), var(--secondary)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
    .subtitle { color: var(--text-muted); }
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-bottom: 2rem; }
    .card { background: var(--bg-card); border-radius: 12px; padding: 1.5rem; border: 1px solid var(--border); }
    .card h2 { color: var(--text-muted); font-size: 0.85rem; text-transform: uppercase; margin-bottom: 1rem; }
    .metric { font-size: 2rem; font-weight: 700; color: var(--primary); }
    .best { background: linear-gradient(135deg, rgba(99,102,241,0.1), rgba(139,92,246,0.1)); border-color: var(--primary); }
    .strategy-name { font-size: 1rem; color: var(--primary); margin-bottom: 0.5rem; }
    .gene { display: inline-block; background: var(--bg); padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.8rem; margin: 0.2rem; }
    .chart-container { height: 300px; }
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 0.75rem; text-align: left; border-bottom: 1px solid var(--border); }
    th { color: var(--text-muted); font-size: 0.8rem; text-transform: uppercase; }
    .rank-1 { color: #fbbf24; } .rank-2 { color: #9ca3af; } .rank-3 { color: #b45309; }
    .bar { height: 8px; background: var(--border); border-radius: 4px; overflow: hidden; }
    .bar-fill { height: 100%; background: var(--primary); }
    .info { background: rgba(99, 102, 241, 0.1); border-left: 4px solid var(--primary); padding: 1rem; margin: 1rem 0; border-radius: 0 8px 8px 0; }
    footer { text-align: center; padding: 2rem; color: var(--text-muted); border-top: 1px solid var(--border); margin-top: 2rem; }
    footer a { color: var(--primary); text-decoration: none; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <nav>
        <a href="landing.html">üè† Home</a>
        <a href="index.html">üìä Meta-Evaluation</a>
        <a href="https://github.com/Algiras/embedeval">üìÇ GitHub</a>
      </nav>
      <h1>üß¨ HuggingFace Evolution Results</h1>
      <p class="subtitle">Real Embedding Evaluation with MTEB Datasets</p>
      <p class="subtitle" style="margin-top: 0.5rem; font-size: 0.9rem;">
        6 generations | 3 embedding models | Combined Benchmark dataset
      </p>
    </header>

    <div class="info">
      <strong>üìä Dataset:</strong> Combined Benchmark | 
      <strong>üî¢ Queries:</strong> 39 | 
      <strong>üìÑ Documents:</strong> 45 |
      <strong>ü§ñ Models:</strong> ollama/nomic-embed-text, gemini/embedding-001, gemini/text-embedding-004
    </div>

    <div class="grid">
      <div class="card best">
        <h2>üèÜ Best Strategy</h2>
        <div class="strategy-name">Gemini Text Embedding 004 | Hybrid Linear | k10</div>
        <div style="margin: 1rem 0;">
          <span class="metric">98.1%</span>
          <span style="color: var(--text-muted);">fitness</span>
        </div>
        <div>
          <span class="gene">ü§ñ gemini/text-embedding-004</span>
          <span class="gene">üîç HYBRID_LINEAR</span>
          <span class="gene">üìù RAW</span>
          <span class="gene">üéØ NONE</span>
        </div>
        <div style="margin-top: 1rem; font-size: 0.9rem; color: var(--text-muted);">
          NDCG@10: 96.5% |
          Recall@10: 100.0% |
          MRR: 96.2% |
          Latency: 0ms
        </div>
      </div>
      
      <div class="card">
        <h2>Evolution Progress</h2>
        <div class="chart-container"><canvas id="evolutionChart"></canvas></div>
      </div>
    </div>

    <div class="grid">
      <div class="card">
        <h2>Model Performance Comparison</h2>
        <div class="chart-container"><canvas id="modelChart"></canvas></div>
      </div>
      <div class="card">
        <h2>Retrieval Method Comparison</h2>
        <div class="chart-container"><canvas id="methodChart"></canvas></div>
      </div>
    </div>

    <div class="card" style="margin-top: 2rem;">
      <h2>All Strategies Ranked</h2>
      <table>
        <thead>
          <tr>
            <th>#</th>
            <th>Strategy</th>
            <th>Model</th>
            <th>Fitness</th>
            <th>NDCG@10</th>
            <th>Recall@10</th>
            <th>Latency</th>
          </tr>
        </thead>
        <tbody>
          
          <tr>
            <td class="rank-1">#1</td>
            <td style="font-size: 0.85rem;">HYBRID_LINEAR | RAW | NONE</td>
            <td style="font-size: 0.8rem; color: var(--text-muted);">text-embedding-004</td>
            <td>
              <div class="bar" style="width: 80px;"><div class="bar-fill" style="width: 98.11275070720592%;"></div></div>
              98.1%
            </td>
            <td>96.5%</td>
            <td>100.0%</td>
            <td>0ms</td>
          </tr>
          <tr>
            <td class="rank-2">#2</td>
            <td style="font-size: 0.85rem;">HYBRID_LINEAR | RAW | NONE</td>
            <td style="font-size: 0.8rem; color: var(--text-muted);">text-embedding-004</td>
            <td>
              <div class="bar" style="width: 80px;"><div class="bar-fill" style="width: 98.11275070720592%;"></div></div>
              98.1%
            </td>
            <td>96.5%</td>
            <td>100.0%</td>
            <td>0ms</td>
          </tr>
          <tr>
            <td class="rank-3">#3</td>
            <td style="font-size: 0.85rem;">HYBRID_LINEAR | RAW | NONE</td>
            <td style="font-size: 0.8rem; color: var(--text-muted);">text-embedding-004</td>
            <td>
              <div class="bar" style="width: 80px;"><div class="bar-fill" style="width: 98.11275070720592%;"></div></div>
              98.1%
            </td>
            <td>96.5%</td>
            <td>100.0%</td>
            <td>0ms</td>
          </tr>
          <tr>
            <td class="">#4</td>
            <td style="font-size: 0.85rem;">HYBRID_RRF | RAW | NONE</td>
            <td style="font-size: 0.8rem; color: var(--text-muted);">text-embedding-004</td>
            <td>
              <div class="bar" style="width: 80px;"><div class="bar-fill" style="width: 98.10763431586234%;"></div></div>
              98.1%
            </td>
            <td>96.5%</td>
            <td>100.0%</td>
            <td>0ms</td>
          </tr>
          <tr>
            <td class="">#5</td>
            <td style="font-size: 0.85rem;">HYBRID_LINEAR | EXPANDED | NONE</td>
            <td style="font-size: 0.8rem; color: var(--text-muted);">text-embedding-004</td>
            <td>
              <div class="bar" style="width: 80px;"><div class="bar-fill" style="width: 98.05843324086872%;"></div></div>
              98.1%
            </td>
            <td>96.3%</td>
            <td>100.0%</td>
            <td>0ms</td>
          </tr>
          <tr>
            <td class="">#6</td>
            <td style="font-size: 0.85rem;">HYBRID_LINEAR | RAW | NONE</td>
            <td style="font-size: 0.8rem; color: var(--text-muted);">text-embedding-004</td>
            <td>
              <div class="bar" style="width: 80px;"><div class="bar-fill" style="width: 97.65376061155465%;"></div></div>
              97.7%
            </td>
            <td>95.9%</td>
            <td>98.7%</td>
            <td>0ms</td>
          </tr>
          <tr>
            <td class="">#7</td>
            <td style="font-size: 0.85rem;">VECTOR_COSINE | LOWERCASE | NONE</td>
            <td style="font-size: 0.8rem; color: var(--text-muted);">text-embedding-004</td>
            <td>
              <div class="bar" style="width: 80px;"><div class="bar-fill" style="width: 97.51868787947421%;"></div></div>
              97.5%
            </td>
            <td>95.3%</td>
            <td>100.0%</td>
            <td>0ms</td>
          </tr>
          <tr>
            <td class="">#8</td>
            <td style="font-size: 0.85rem;">HYBRID_LINEAR | LOWERCASE | NONE</td>
            <td style="font-size: 0.8rem; color: var(--text-muted);">embedding-001</td>
            <td>
              <div class="bar" style="width: 80px;"><div class="bar-fill" style="width: 97.36832056006686%;"></div></div>
              97.4%
            </td>
            <td>95.7%</td>
            <td>97.4%</td>
            <td>0ms</td>
          </tr>
          <tr>
            <td class="">#9</td>
            <td style="font-size: 0.85rem;">HYBRID_LINEAR | RAW | NONE</td>
            <td style="font-size: 0.8rem; color: var(--text-muted);">text-embedding-004</td>
            <td>
              <div class="bar" style="width: 80px;"><div class="bar-fill" style="width: 96.06386916800952%;"></div></div>
              96.1%
            </td>
            <td>93.2%</td>
            <td>98.7%</td>
            <td>0ms</td>
          </tr>
          <tr>
            <td class="">#10</td>
            <td style="font-size: 0.85rem;">VECTOR_COSINE | LOWERCASE | NONE</td>
            <td style="font-size: 0.8rem; color: var(--text-muted);">embedding-001</td>
            <td>
              <div class="bar" style="width: 80px;"><div class="bar-fill" style="width: 96.04655890922419%;"></div></div>
              96.0%
            </td>
            <td>93.3%</td>
            <td>97.4%</td>
            <td>0ms</td>
          </tr>
        </tbody>
      </table>
    </div>

    <footer>
      <p>Generated by EmbedEval - Self-Evolving Embedding Researcher</p>
      <p><a href="landing.html">Home</a> ‚Ä¢ <a href="index.html">Meta-Evaluation</a> ‚Ä¢ <a href="https://github.com/Algiras/embedeval">GitHub</a></p>
    </footer>
  </div>

  <script>
    // Evolution progress
    new Chart(document.getElementById('evolutionChart'), {
      type: 'line',
      data: {
        labels: ["Gen 1","Gen 2","Gen 3","Gen 4","Gen 5","Gen 6"],
        datasets: [
          { label: 'Best', data: ["97.9","98.1","98.1","98.1","98.1","98.1"], borderColor: '#6366f1', fill: false, tension: 0.3 },
          { label: 'Average', data: ["88.8","92.4","91.3","97.3","97.1","97.5"], borderColor: '#8b5cf6', fill: false, tension: 0.3 }
        ]
      },
      options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { labels: { color: '#94a3b8' } } }, scales: { x: { ticks: { color: '#94a3b8' } }, y: { ticks: { color: '#94a3b8' }, title: { display: true, text: 'Fitness %', color: '#94a3b8' } } } }
    });

    // Model comparison
    const modelData = {"text-embedding-004":0.9771757966717339,"embedding-001":0.9670743973464553};
    new Chart(document.getElementById('modelChart'), {
      type: 'bar',
      data: {
        labels: Object.keys(modelData),
        datasets: [{ label: 'Avg Fitness %', data: Object.values(modelData).map(v => (v * 100).toFixed(1)), backgroundColor: '#6366f1' }]
      },
      options: { responsive: true, maintainAspectRatio: false, indexAxis: 'y', plugins: { legend: { labels: { color: '#94a3b8' } } }, scales: { x: { ticks: { color: '#94a3b8' }, max: 100 }, y: { ticks: { color: '#94a3b8' } } } }
    });

    // Method comparison
    const methodData = {"HYBRID_LINEAR":0.9764037652887392,"HYBRID_RRF":0.9810763431586234,"VECTOR_COSINE":0.967826233943492};
    new Chart(document.getElementById('methodChart'), {
      type: 'bar',
      data: {
        labels: Object.keys(methodData),
        datasets: [{ label: 'Avg Fitness %', data: Object.values(methodData).map(v => (v * 100).toFixed(1)), backgroundColor: '#8b5cf6' }]
      },
      options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { labels: { color: '#94a3b8' } } }, scales: { x: { ticks: { color: '#94a3b8' } }, y: { ticks: { color: '#94a3b8' }, max: 100 } } }
    });
  </script>
</body>
</html>