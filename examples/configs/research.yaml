# Example: Research & Development
# Comprehensive comparison of all strategies and models

test:
  name: "Comprehensive Research Evaluation"
  description: "Full factorial: models × strategies × chunk sizes"

variants:
  # Ollama Models
  - id: ollama-nomic
    name: "Ollama Nomic"
    provider:
      type: ollama
      baseUrl: http://localhost:11434
      model: nomic-embed-text
    strategy: baseline

  - id: ollama-nomic-chunks
    name: "Ollama Nomic (Chunks)"
    provider:
      type: ollama
      baseUrl: http://localhost:11434
      model: nomic-embed-text
    strategy: semantic-chunks

  # OpenAI Models
  - id: openai-small
    name: "OpenAI 3 Small"
    provider:
      type: openai
      apiKey: ${OPENAI_API_KEY}
      model: text-embedding-3-small
    strategy: baseline

  - id: openai-small-hybrid
    name: "OpenAI 3 Small (Hybrid)"
    provider:
      type: openai
      apiKey: ${OPENAI_API_KEY}
      model: text-embedding-3-small
    strategy: hybrid-bm25

  - id: openai-large
    name: "OpenAI 3 Large"
    provider:
      type: openai
      apiKey: ${OPENAI_API_KEY}
      model: text-embedding-3-large
    strategy: baseline

  - id: openai-large-reranked
    name: "OpenAI 3 Large (Reranked)"
    provider:
      type: openai
      apiKey: ${OPENAI_API_KEY}
      model: text-embedding-3-large
    strategy: llm-reranked

  # HuggingFace Models
  - id: hf-minilm
    name: "HF MiniLM"
    provider:
      type: huggingface
      model: sentence-transformers/all-MiniLM-L6-v2
      apiKey: ${HUGGINGFACE_API_KEY}
    strategy: baseline

  - id: hf-mpnet
    name: "HF MPNet"
    provider:
      type: huggingface
      model: sentence-transformers/all-mpnet-base-v2
      apiKey: ${HUGGINGFACE_API_KEY}
    strategy: baseline

dataset: ./data/research-queries.jsonl
corpus: ./data/research-corpus.jsonl

metrics:
  - ndcg@5
  - ndcg@10
  - recall@5
  - recall@10
  - mrr@10
  - map@10

output:
  json: ./results/research-metrics.json
  dashboard: ./results/research-dashboard.html
  sideBySide: ./results/research-comparison.html
  csv: ./results/research-metrics.csv

analysis:
  statisticalTests: true
  confidenceLevel: 0.95
