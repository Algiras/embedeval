# Ollama vs Gemini A/B Test
# Compare local Ollama vs cloud Gemini side-by-side
# Helps you decide which provider to use for production

test:
  name: "Ollama vs Gemini A/B Test"
  description: "Compare local Ollama vs cloud Gemini for your use case"
  tags: ["comparison", "ab-test", "ollama", "gemini"]

variants:
  - id: ollama-local
    name: "Ollama (Local - Free)"
    provider:
      type: ollama
      model: nomic-embed-text
      baseUrl: http://localhost:11434
    strategy: baseline
    description: "Local, private, free"

  - id: gemini-cloud
    name: "Gemini (Cloud - Fast)"
    provider:
      type: google
      model: text-embedding-004
    strategy: baseline
    description: "Cloud, fast, high quality"

  - id: ollama-chunks
    name: "Ollama + Chunks"
    provider:
      type: ollama
      model: nomic-embed-text
    strategy: semantic-chunks
    description: "Local with smart chunking"

  - id: gemini-chunks
    name: "Gemini + Chunks"
    provider:
      type: google
      model: text-embedding-004
    strategy: semantic-chunks
    description: "Cloud with smart chunking"

dataset: ./examples/data/sample-queries.jsonl
corpus: ./examples/data/sample-corpus.jsonl

metrics:
  - ndcg@10
  - recall@10
  - mrr@10

output:
  json: ./results/ollama-vs-gemini/metrics.json
  dashboard: ./results/ollama-vs-gemini/dashboard.html
  sideBySide: ./results/ollama-vs-gemini/comparison.html
  csv: ./results/ollama-vs-gemini/results.csv

# What you'll learn:
# 1. Quality difference (Gemini typically 10-15% better)
# 2. Speed difference (Gemini 20x faster)
# 3. Cost difference (Ollama free, Gemini $0.000025/query)
# 4. Best strategy for YOUR data

# Expected results:
# - Ollama: NDCG ~0.72, Latency ~2450ms, Cost $0
# - Gemini: NDCG ~0.84, Latency ~120ms, Cost $0.0025
