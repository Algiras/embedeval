# Comprehensive Hugging Face Model Comparison
# Compares top embedding models across multiple strategies
# Good for selecting the best model for your use case

test:
  name: "HF Model Shootout"
  description: "Comprehensive comparison of popular Hugging Face embedding models"
  tags: ["comparison", "benchmark", "huggingface"]

variants:
  # Lightweight models
  - id: minilm-shootout
    name: "all-MiniLM-L6-v2"
    provider:
      type: huggingface
      model: sentence-transformers/all-MiniLM-L6-v2
    strategy: baseline
    description: "Fast, lightweight (22M params)"

  - id: distilbert-shootout
    name: "distilbert-base"
    provider:
      type: huggingface
      model: sentence-transformers/distilbert-base-nli-stsb-mean-tokens
    strategy: baseline
    description: "Distilled BERT (66M params)"

  # Medium models
  - id: mpnet-shootout
    name: "all-mpnet-base-v2"
    provider:
      type: huggingface
      model: sentence-transformers/all-mpnet-base-v2
    strategy: baseline
    description: "Better than MiniLM (110M params)"

  - id: gte-base-shootout
    name: "gte-base"
    provider:
      type: huggingface
      model: thenlper/gte-base
    strategy: baseline
    description: "Good balance (110M params)"

  - id: e5-base-shootout
    name: "e5-base-v2"
    provider:
      type: huggingface
      model: intfloat/e5-base-v2
    strategy: baseline
    description: "Strong retrieval (110M params)"

  # Large models
  - id: bge-large-shootout
    name: "bge-large-en-v1.5"
    provider:
      type: huggingface
      model: BAAI/bge-large-en-v1.5
    strategy: baseline
    description: "Best accuracy (335M params)"

  - id: gte-large-shootout
    name: "gte-large"
    provider:
      type: huggingface
      model: thenlper/gte-large
    strategy: baseline
    description: "High quality (335M params)"

  - id: e5-large-shootout
    name: "e5-large-v2"
    provider:
      type: huggingface
      model: intfloat/e5-large-v2
    strategy: baseline
    description: "Top MTEB performer (335M params)"

dataset: ./datasets/sample/queries.jsonl
corpus: ./datasets/sample/corpus.jsonl

metrics:
  - ndcg@5
  - ndcg@10
  - recall@5
  - recall@10
  - mrr@10
  - map@10

output:
  json: ./results/hf-shootout/metrics.json
  dashboard: ./results/hf-shootout/dashboard.html
  csv: ./results/hf-shootout/results.csv
  sideBySide: ./results/hf-shootout/comparison.html

cache:
  maxSizeGB: 20
  checkpointInterval: 1

# This will take a while with 8 models
# Consider running overnight or with Redis for parallelization
