# EmbedEval Environment Configuration
# Copy this file to .env and fill in your values
# EmbedEval automatically loads .env file on startup

# =============================================================================
# API Keys (Required for cloud providers)
# =============================================================================

# OpenAI API Key
# Get from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-key-here

# Google Gemini API Key
# Get from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your-gemini-api-key-here

# HuggingFace API Key (optional, for Inference API)
# Get from: https://huggingface.co/settings/tokens
HUGGINGFACE_API_KEY=hf_your-huggingface-token-here

# OpenRouter API Key (for accessing multiple models)
# Get from: https://openrouter.ai/keys
OPENROUTER_API_KEY=sk-or-v1-your-openrouter-key-here

# =============================================================================
# Service Configuration
# =============================================================================

# Ollama Host (default: http://localhost:11434)
OLLAMA_HOST=http://localhost:11434

# Redis URL for BullMQ job queue (default: redis://localhost:6379)
REDIS_URL=redis://localhost:6379

# =============================================================================
# Cache Configuration
# =============================================================================

# Maximum cache size in GB (default: 10)
CACHE_MAX_SIZE_GB=10

# Checkpoint interval - save progress every N queries (default: 1)
CHECKPOINT_INTERVAL=1

# =============================================================================
# Logging
# =============================================================================

# Log level: debug, info, warn, error (default: info)
LOG_LEVEL=info

# =============================================================================
# CI/CD Gates (for automated testing)
# =============================================================================

# Minimum NDCG@5 threshold (0.0 - 1.0)
NDCG5_THRESHOLD=0.70

# Minimum Recall@5 threshold (0.0 - 1.0)
RECALL5_THRESHOLD=0.65

# Maximum allowed regression vs baseline (0.0 - 1.0)
MAX_REGRESSION=0.05

# Maximum average latency in milliseconds
MAX_LATENCY_MS=200

# =============================================================================
# Test Data Paths (for CI/CD)
# =============================================================================

# Default test dataset
TEST_DATASET=./examples/sample-queries.jsonl

# Default test corpus
TEST_CORPUS=./examples/sample-corpus.jsonl

# Candidate model for comparison (used in CI/CD)
CANDIDATE_MODEL=nomic-embed-text

# =============================================================================
# Notification Settings (optional)
# =============================================================================

# GitHub repository for notifications
GITHUB_REPO=Algiras/embedeval

# Slack webhook URL for notifications
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# =============================================================================
# Example Usage in Config Files:
# =============================================================================
#
# providers:
#   - type: openai
#     apiKey: ${OPENAI_API_KEY}
#     model: text-embedding-3-small
#
# gates:
#   ndcg@5:
#     min: ${NDCG5_THRESHOLD}
#
# =============================================================================
# Setup Instructions:
# =============================================================================
#
# 1. Copy this file:
#    cp .env.example .env
#
# 2. Edit .env and fill in your API keys:
#    nano .env
#
# 3. Source the file (optional):
#    source .env
#
# 4. Run evaluation:
#    embedeval ab-test --config your-config.yaml
#
# Note: EmbedEval automatically loads .env file when running commands
