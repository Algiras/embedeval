---
description: Development workflow rules for EmbedEval
globs: ["src/**/*.ts", "tests/**/*.ts"]
alwaysApply: true
---

# EmbedEval Development Rules

## Code Generation

When generating TypeScript code:

1. **Always use strict types** - No `any` unless absolutely necessary
2. **Export interfaces** - Make types reusable
3. **Use async/await** - Never raw Promise chains
4. **Add JSDoc** - Document public methods
5. **Handle errors** - Use try/catch with meaningful messages

## File Creation

When creating new files:

```typescript
/**
 * @fileoverview Brief description of the module
 * @module category/name
 */

import { ... } from '../core/types';
import { logger } from '../utils/logger';

// Implementation here

export { ... };
```

## Testing

When writing tests:

1. Create test file alongside implementation: `*.test.ts`
2. Use descriptive test names
3. Test happy path and error cases
4. Mock external dependencies

```typescript
describe('ModuleName', () => {
  describe('methodName', () => {
    it('should do expected behavior', async () => {
      // Arrange
      // Act
      // Assert
    });
  });
});
```

## Logging

Use the project logger:

```typescript
import { logger } from '../utils/logger';

logger.info('Operation completed', { context });
logger.error('Operation failed', error);
logger.debug('Debug info', { data });
```

## Configuration

When adding new configuration options:

1. Add type to `src/core/types.ts`
2. Add default in `src/utils/config.ts`
3. Document in README.md
4. Add example to `examples/`
